package com.github.thiskarolgajda.op.plots.border;

import me.opkarol.oplibrary.inventories.ChestInventory;
import me.opkarol.oplibrary.inventories.ItemBuilder;
import me.opkarol.oplibrary.misc.Books;
import org.bukkit.Material;
import org.bukkit.entity.Player;
import org.jetbrains.annotations.Nullable;

import java.util.LinkedList;
import java.util.List;
import java.util.Map;
import java.util.Random;
import java.util.function.Consumer;

public class SelectColor {

    public SelectColor(Player player, Consumer<String> onSelectedColor, @Nullable Runnable onHome) {
        new SelectColorInventory(player, onSelectedColor, onHome);
    }
}

class SelectColorInventory extends ChestInventory {
    private static final List<String> colors = new LinkedList<>();

    static {
        colors.add("FF0000");
        colors.add("FF0200");
        colors.add("FF0300");
        colors.add("FF0500");
        colors.add("FF0600");
        colors.add("FF0800");
        colors.add("FF0900");
        colors.add("FF0B00");
        colors.add("FF0C00");
        colors.add("FF0E00");
        colors.add("FF0F00");
        colors.add("FF1100");
        colors.add("FF1200");
        colors.add("FF1400");
        colors.add("FF1500");
        colors.add("FF1700");
        colors.add("FF1800");
        colors.add("FF1A00");
        colors.add("FF1C00");
        colors.add("FF1D00");
        colors.add("FF1F00");
        colors.add("FF2000");
        colors.add("FF2200");
        colors.add("FF2300");
        colors.add("FF2500");
        colors.add("FF2600");
        colors.add("FF2800");
        colors.add("FF2900");
        colors.add("FF2B00");
        colors.add("FF2C00");
        colors.add("FF2E00");
        colors.add("FF2F00");
        colors.add("FF3100");
        colors.add("FF3200");
        colors.add("FF3400");
        colors.add("FF3600");
        colors.add("FF3700");
        colors.add("FF3900");
        colors.add("FF3A00");
        colors.add("FF3C00");
        colors.add("FF3D00");
        colors.add("FF3F00");
        colors.add("FF4000");
        colors.add("FF4200");
        colors.add("FF4300");
        colors.add("FF4500");
        colors.add("FF4600");
        colors.add("FF4800");
        colors.add("FF4900");
        colors.add("FF4B00");
        colors.add("FF4D00");
        colors.add("FF4E00");
        colors.add("FF5000");
        colors.add("FF5100");
        colors.add("FF5300");
        colors.add("FF5400");
        colors.add("FF5600");
        colors.add("FF5700");
        colors.add("FF5900");
        colors.add("FF5A00");
        colors.add("FF5C00");
        colors.add("FF5D00");
        colors.add("FF5F00");
        colors.add("FF6000");
        colors.add("FF6200");
        colors.add("FF6300");
        colors.add("FF6500");
        colors.add("FF6700");
        colors.add("FF6800");
        colors.add("FF6A00");
        colors.add("FF6B00");
        colors.add("FF6D00");
        colors.add("FF6E00");
        colors.add("FF7000");
        colors.add("FF7100");
        colors.add("FF7300");
        colors.add("FF7400");
        colors.add("FF7600");
        colors.add("FF7700");
        colors.add("FF7900");
        colors.add("FF7A00");
        colors.add("FF7C00");
        colors.add("FF7D00");
        colors.add("FF7F00");
        colors.add("FF8100");
        colors.add("FF8200");
        colors.add("FF8400");
        colors.add("FF8500");
        colors.add("FF8700");
        colors.add("FF8800");
        colors.add("FF8A00");
        colors.add("FF8B00");
        colors.add("FF8D00");
        colors.add("FF8E00");
        colors.add("FF9000");
        colors.add("FF9200");
        colors.add("FF9300");
        colors.add("FF9500");
        colors.add("FF9600");
        colors.add("FF9800");
        colors.add("FF9900");
        colors.add("FF9B00");
        colors.add("FF9C00");
        colors.add("FF9E00");
        colors.add("FF9F00");
        colors.add("FFA100");
        colors.add("FFA200");
        colors.add("FFA400");
        colors.add("FFA600");
        colors.add("FFA700");
        colors.add("FFA900");
        colors.add("FFAA00");
        colors.add("FFAC00");
        colors.add("FFAD00");
        colors.add("FFAF00");
        colors.add("FFB000");
        colors.add("FFB200");
        colors.add("FFB300");
        colors.add("FFB500");
        colors.add("FFB700");
        colors.add("FFB800");
        colors.add("FFBA00");
        colors.add("FFBB00");
        colors.add("FFBD00");
        colors.add("FFBE00");
        colors.add("FFC000");
        colors.add("FFC100");
        colors.add("FFC300");
        colors.add("FFC400");
        colors.add("FFC600");
        colors.add("FFC700");
        colors.add("FFC900");
        colors.add("FFCB00");
        colors.add("FFCC00");
        colors.add("FFCE00");
        colors.add("FFCF00");
        colors.add("FFD100");
        colors.add("FFD200");
        colors.add("FFD400");
        colors.add("FFD500");
        colors.add("FFD700");
        colors.add("FFD800");
        colors.add("FFDA00");
        colors.add("FFDC00");
        colors.add("FFDD00");
        colors.add("FFDF00");
        colors.add("FFE000");
        colors.add("FFE200");
        colors.add("FFE300");
        colors.add("FFE500");
        colors.add("FFE600");
        colors.add("FFE800");
        colors.add("FFE900");
        colors.add("FFEB00");
        colors.add("FFEC00");
        colors.add("FFEE00");
        colors.add("FFF000");
        colors.add("FFF100");
        colors.add("FFF300");
        colors.add("FFF400");
        colors.add("FFF600");
        colors.add("FFF700");
        colors.add("FFF900");
        colors.add("FFFA00");
        colors.add("FFFC00");
        colors.add("FFFD00");
        colors.add("FFFF00");
        colors.add("FCFF00");
        colors.add("F9FF00");
        colors.add("F6FF00");
        colors.add("F3FF00");
        colors.add("F0FF00");
        colors.add("EDFF00");
        colors.add("E9FF00");
        colors.add("E6FF00");
        colors.add("E3FF00");
        colors.add("E0FF00");
        colors.add("DDFF00");
        colors.add("DAFF00");
        colors.add("D7FF00");
        colors.add("D4FF00");
        colors.add("D1FF00");
        colors.add("CEFF00");
        colors.add("CBFF00");
        colors.add("C8FF00");
        colors.add("C5FF00");
        colors.add("C2FF00");
        colors.add("BEFF00");
        colors.add("BBFF00");
        colors.add("B8FF00");
        colors.add("B5FF00");
        colors.add("B2FF00");
        colors.add("AFFF00");
        colors.add("ACFF00");
        colors.add("A9FF00");
        colors.add("A6FF00");
        colors.add("A3FF00");
        colors.add("A0FF00");
        colors.add("9DFF00");
        colors.add("9AFF00");
        colors.add("97FF00");
        colors.add("93FF00");
        colors.add("90FF00");
        colors.add("8DFF00");
        colors.add("8AFF00");
        colors.add("87FF00");
        colors.add("84FF00");
        colors.add("81FF00");
        colors.add("7EFF00");
        colors.add("7BFF00");
        colors.add("78FF00");
        colors.add("75FF00");
        colors.add("72FF00");
        colors.add("6FFF00");
        colors.add("6CFF00");
        colors.add("68FF00");
        colors.add("65FF00");
        colors.add("62FF00");
        colors.add("5FFF00");
        colors.add("5CFF00");
        colors.add("59FF00");
        colors.add("56FF00");
        colors.add("53FF00");
        colors.add("50FF00");
        colors.add("4DFF00");
        colors.add("4AFF00");
        colors.add("47FF00");
        colors.add("44FF00");
        colors.add("41FF00");
        colors.add("3DFF00");
        colors.add("3AFF00");
        colors.add("37FF00");
        colors.add("34FF00");
        colors.add("31FF00");
        colors.add("2EFF00");
        colors.add("2BFF00");
        colors.add("28FF00");
        colors.add("25FF00");
        colors.add("22FF00");
        colors.add("1FFF00");
        colors.add("1CFF00");
        colors.add("19FF00");
        colors.add("16FF00");
        colors.add("12FF00");
        colors.add("0FFF00");
        colors.add("0CFF00");
        colors.add("09FF00");
        colors.add("06FF00");
        colors.add("03FF00");
        colors.add("00FF00");
        colors.add("00FC03");
        colors.add("00F906");
        colors.add("00F609");
        colors.add("00F30C");
        colors.add("00F00F");
        colors.add("00ED12");
        colors.add("00E916");
        colors.add("00E619");
        colors.add("00E31C");
        colors.add("00E01F");
        colors.add("00DD22");
        colors.add("00DA25");
        colors.add("00D728");
        colors.add("00D42B");
        colors.add("00D12E");
        colors.add("00CE31");
        colors.add("00CB34");
        colors.add("00C837");
        colors.add("00C53A");
        colors.add("00C23D");
        colors.add("00BE41");
        colors.add("00BB44");
        colors.add("00B847");
        colors.add("00B54A");
        colors.add("00B24D");
        colors.add("00AF50");
        colors.add("00AC53");
        colors.add("00A956");
        colors.add("00A659");
        colors.add("00A35C");
        colors.add("00A05F");
        colors.add("009D62");
        colors.add("009A65");
        colors.add("009768");
        colors.add("00936C");
        colors.add("00906F");
        colors.add("008D72");
        colors.add("008A75");
        colors.add("008778");
        colors.add("00847B");
        colors.add("00817E");
        colors.add("007E81");
        colors.add("007B84");
        colors.add("007887");
        colors.add("00758A");
        colors.add("00728D");
        colors.add("006F90");
        colors.add("006C93");
        colors.add("006897");
        colors.add("00659A");
        colors.add("00629D");
        colors.add("005FA0");
        colors.add("005CA3");
        colors.add("0059A6");
        colors.add("0056A9");
        colors.add("0053AC");
        colors.add("0050AF");
        colors.add("004DB2");
        colors.add("004AB5");
        colors.add("0047B8");
        colors.add("0044BB");
        colors.add("0041BE");
        colors.add("003DC2");
        colors.add("003AC5");
        colors.add("0037C8");
        colors.add("0034CB");
        colors.add("0031CE");
        colors.add("002ED1");
        colors.add("002BD4");
        colors.add("0028D7");
        colors.add("0025DA");
        colors.add("0022DD");
        colors.add("001FE0");
        colors.add("001CE3");
        colors.add("0019E6");
        colors.add("0016E9");
        colors.add("0012ED");
        colors.add("000FF0");
        colors.add("000CF3");
        colors.add("0009F6");
        colors.add("0006F9");
        colors.add("0003FC");
        colors.add("0000FF");
        colors.add("0100FD");
        colors.add("0200FC");
        colors.add("0300FA");
        colors.add("0400F9");
        colors.add("0500F7");
        colors.add("0500F6");
        colors.add("0600F4");
        colors.add("0700F3");
        colors.add("0800F1");
        colors.add("0900F0");
        colors.add("0A00EE");
        colors.add("0B00ED");
        colors.add("0C00EB");
        colors.add("0D00EA");
        colors.add("0E00E8");
        colors.add("0E00E7");
        colors.add("0F00E5");
        colors.add("1000E4");
        colors.add("1100E2");
        colors.add("1200E1");
        colors.add("1300DF");
        colors.add("1400DE");
        colors.add("1500DC");
        colors.add("1600DB");
        colors.add("1700D9");
        colors.add("1700D8");
        colors.add("1800D6");
        colors.add("1900D5");
        colors.add("1A00D3");
        colors.add("1B00D2");
        colors.add("1C00D0");
        colors.add("1D00CF");
        colors.add("1E00CD");
        colors.add("1F00CC");
        colors.add("2000CA");
        colors.add("2100C9");
        colors.add("2100C7");
        colors.add("2200C6");
        colors.add("2300C4");
        colors.add("2400C3");
        colors.add("2500C1");
        colors.add("2600C0");
        colors.add("2700BE");
        colors.add("2800BD");
        colors.add("2900BB");
        colors.add("2A00BA");
        colors.add("2A00B8");
        colors.add("2B00B7");
        colors.add("2C00B5");
        colors.add("2D00B4");
        colors.add("2E00B2");
        colors.add("2F00B1");
        colors.add("3000AF");
        colors.add("3100AE");
        colors.add("3200AC");
        colors.add("3300AB");
        colors.add("3400A9");
        colors.add("3400A8");
        colors.add("3500A6");
        colors.add("3600A5");
        colors.add("3700A3");
        colors.add("3800A2");
        colors.add("3900A0");
        colors.add("3A009F");
        colors.add("3B009D");
        colors.add("3C009C");
        colors.add("3D009A");
        colors.add("3D0099");
        colors.add("3E0097");
        colors.add("3F0096");
        colors.add("400094");
        colors.add("410093");
        colors.add("420091");
        colors.add("430090");
        colors.add("44008E");
        colors.add("45008D");
        colors.add("46008B");
        colors.add("46008A");
        colors.add("470088");
        colors.add("480087");
        colors.add("490085");
        colors.add("4A0084");
        colors.add("4B0082");
        colors.add("4C0084");
        colors.add("4D0085");
        colors.add("4D0087");
        colors.add("4E0088");
        colors.add("4F008A");
        colors.add("50008B");
        colors.add("51008D");
        colors.add("52008E");
        colors.add("520090");
        colors.add("530091");
        colors.add("540093");
        colors.add("550094");
        colors.add("560096");
        colors.add("560097");
        colors.add("570099");
        colors.add("58009A");
        colors.add("59009C");
        colors.add("5A009D");
        colors.add("5B009F");
        colors.add("5B00A0");
        colors.add("5C00A2");
        colors.add("5D00A3");
        colors.add("5E00A5");
        colors.add("5F00A6");
        colors.add("5F00A8");
        colors.add("6000A9");
        colors.add("6100AB");
        colors.add("6200AC");
        colors.add("6300AE");
        colors.add("6400AF");
        colors.add("6400B1");
        colors.add("6500B2");
        colors.add("6600B4");
        colors.add("6700B5");
        colors.add("6800B7");
        colors.add("6800B8");
        colors.add("6900BA");
        colors.add("6A00BB");
        colors.add("6B00BD");
        colors.add("6C00BE");
        colors.add("6D00C0");
        colors.add("6D00C1");
        colors.add("6E00C3");
        colors.add("6F00C4");
        colors.add("7000C6");
        colors.add("7100C7");
        colors.add("7200C9");
        colors.add("7200CA");
        colors.add("7300CC");
        colors.add("7400CD");
        colors.add("7500CF");
        colors.add("7600D0");
        colors.add("7600D2");
        colors.add("7700D3");
        colors.add("7800D5");
        colors.add("7900D6");
        colors.add("7A00D8");
        colors.add("7B00D9");
        colors.add("7B00DB");
        colors.add("7C00DC");
        colors.add("7D00DE");
        colors.add("7E00DF");
        colors.add("7F00E1");
        colors.add("7F00E2");
        colors.add("8000E4");
        colors.add("8100E5");
        colors.add("8200E7");
        colors.add("8300E8");
        colors.add("8400EA");
        colors.add("8400EB");
        colors.add("8500ED");
        colors.add("8600EE");
        colors.add("8700F0");
        colors.add("8800F1");
        colors.add("8800F3");
        colors.add("8900F4");
        colors.add("8A00F6");
        colors.add("8B00F7");
        colors.add("8C00F9");
        colors.add("8D00FA");
        colors.add("8D00FC");
        colors.add("8E00FD");
        colors.add("8E00FD");
        colors.add("8E00FD");
    }

    protected SelectColorInventory(Player player, Consumer<String> onSelectedColor, @Nullable Runnable onHome) {
        super(5, "Wybierz kolor");
        setListPattern(player, onHome);

        for (String hex : colors) {
            setNextFree(item("%hex% (%color%)"), Books.getRandomHead(hex), event -> {
                event.setCancelled(true);
                onSelectedColor.accept(hex);
            }, Map.of(
                    "%hex%", hex,
                    "%color%", "#<" + hex + ">&m---------"
            ));
        }

        setNextFree(item("random"), new ItemBuilder(Material.ENCHANTED_BOOK), event -> {
            event.setCancelled(true);
            onSelectedColor.accept(generateRandomColor());
        });

        open(player);
    }

    public static String generateRandomColor() {
        Random random = new Random();
        int red = random.nextInt(256);
        int green = random.nextInt(256);
        int blue = random.nextInt(256);
        return String.format("%02x%02x%02x", red, green, blue);
    }
}
    